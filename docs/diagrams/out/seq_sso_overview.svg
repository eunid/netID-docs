<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="860px" preserveAspectRatio="none" style="width:1166px;height:860px;" version="1.1" viewBox="0 0 1166 860" width="1166px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v8lyyl153yew" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="322.4609" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="68" y="422.3828"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="531" y="145.0547"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="293.3281" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="531" y="451.5156"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="203.3203"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="44.2656" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="378.1172"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="504.7813"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="621.3125"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="261.5859"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="319.8516"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="533.9141"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="650.4453"/><rect fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" height="646.0547" style="stroke: #000000; stroke-width: 2.0;" width="1142" x="13" y="106.7891"/><rect fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="685" x="460" y="466.5156"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="73" x2="73" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="536" x2="536" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="740" x2="740" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1001" x2="1001" y1="89.7891" y2="769.8438"/><text fill="#000000" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="94" x="23" y="85.7798">netID User</text><ellipse cx="73" cy="13" fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" rx="8" ry="8" style="stroke: #76B82A; stroke-width: 2.0;"/><path d="M73,21 L73,48 M60,29 L86,29 M73,48 L60,63 M73,48 L86,63 " fill="none" filter="url(#f1v8lyyl153yew)" style="stroke: #76B82A; stroke-width: 2.0;"/><text fill="#000000" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="94" x="23" y="784.6235">netID User</text><ellipse cx="73" cy="798.6328" fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" rx="8" ry="8" style="stroke: #76B82A; stroke-width: 2.0;"/><path d="M73,806.6328 L73,833.6328 M60,814.6328 L86,814.6328 M73,833.6328 L60,848.6328 M73,833.6328 L86,848.6328 " fill="none" filter="url(#f1v8lyyl153yew)" style="stroke: #76B82A; stroke-width: 2.0;"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="128" x="470" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="114" x="477" y="73.7798">Website (RP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="128" x="470" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="114" x="477" y="791.6235">Website (RP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="230" x="623" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="216" x="630" y="73.7798">Identity Broker (IOP/IRP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="230" x="623" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="216" x="630" y="791.6235">Identity Broker (IOP/IRP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="264" x="867" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="250" x="874" y="73.7798">netID Account Provider (OP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="264" x="867" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="250" x="874" y="791.6235">netID Account Provider (OP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="322.4609" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="68" y="422.3828"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="531" y="145.0547"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="293.3281" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="531" y="451.5156"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="203.3203"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="44.2656" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="378.1172"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="504.7813"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="735" y="621.3125"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="261.5859"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="319.8516"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="533.9141"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="996" y="650.4453"/><path d="M13,106.7891 L121,106.7891 L121,113.7891 L111,123.7891 L13,123.7891 L13,106.7891 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="646.0547" style="stroke: #000000; stroke-width: 2.0;" width="1142" x="13" y="106.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="28" y="119.856">Browser</text><polygon fill="#76B82A" points="519,141.0547,529,145.0547,519,149.0547,523,145.0547" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73" x2="525" y1="145.0547" y2="145.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80" y="139.9888">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="115" y="139.9888">Start a use case that requires SSO Login</text><polygon fill="#76B82A" points="84,170.1875,74,174.1875,84,178.1875,80,174.1875" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78" x2="535" y1="174.1875" y2="174.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90" y="169.1216">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="399" x="125" y="169.1216">Show "netID Login Button" to invoke AuthReq with parameters</text><polygon fill="#76B82A" points="723,199.3203,733,203.3203,723,207.3203,727,203.3203" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73" x2="729" y1="203.3203" y2="203.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="80" y="198.2544">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="114" y="198.2544">Trigger AuthReq</text><polygon fill="#76B82A" points="84,228.4531,74,232.4531,84,236.4531,80,232.4531" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78" x2="739" y1="232.4531" y2="232.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90" y="227.3872">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="125" y="227.3872">Redirect to OP with new AuthReq</text><polygon fill="#76B82A" points="984,257.5859,994,261.5859,984,265.5859,988,261.5859" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73" x2="990" y1="261.5859" y2="261.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80" y="256.52">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="115" y="256.52">Login with Credentials</text><polygon fill="#76B82A" points="84,286.7188,74,290.7188,84,294.7188,80,290.7188" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78" x2="1000" y1="290.7188" y2="290.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90" y="285.6528">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="125" y="285.6528">Show requested claims and ask for consent</text><polygon fill="#76B82A" points="984,315.8516,994,319.8516,984,323.8516,988,319.8516" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73" x2="990" y1="319.8516" y2="319.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80" y="314.7856">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="115" y="314.7856">Consent to data transfer</text><polygon fill="#76B82A" points="84,344.9844,74,348.9844,84,352.9844,80,348.9844" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78" x2="1000" y1="348.9844" y2="348.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90" y="343.9185">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="125" y="343.9185">Issue AuthN Response and redirect to IRP</text><polygon fill="#76B82A" points="723,374.1172,733,378.1172,723,382.1172,727,378.1172" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73" x2="729" y1="378.1172" y2="378.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80" y="373.0513">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="115" y="373.0513">Transfer AuthN Response via redirect URL</text><polygon fill="#76B82A" points="89,418.3828,79,422.3828,89,426.3828,85,422.3828" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="83" x2="739" y1="422.3828" y2="422.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="95" y="409.7505">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="412" x="130" y="402.1841">Store AuthN Response encrypted in new AuthN Response for RP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="130" y="417.3169">and redirect browser to RP</text><polygon fill="#76B82A" points="519,447.5156,529,451.5156,519,455.5156,523,451.5156" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78" x2="525" y1="451.5156" y2="451.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="85" y="446.4497">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="119" y="446.4497">Transfer AuthN Response via redirect URL</text><path d="M460,466.5156 L624,466.5156 L624,473.5156 L614,483.5156 L460,483.5156 L460,466.5156 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="685" x="460" y="466.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="475" y="479.5825">Server-2-Server</text><polygon fill="#76B82A" points="723,500.7813,733,504.7813,723,508.7813,727,504.7813" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="541" x2="729" y1="504.7813" y2="504.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="548" y="499.7153">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="582" y="499.7153">Request AccessToken</text><polygon fill="#76B82A" points="984,529.9141,994,533.9141,984,537.9141,988,533.9141" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="745" x2="990" y1="533.9141" y2="533.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="752" y="528.8481">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="785" y="528.8481">Request AccessToken</text><polygon fill="#76B82A" points="756,559.0469,746,563.0469,756,567.0469,752,563.0469" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="750" x2="1000" y1="563.0469" y2="563.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="762" y="557.981">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="796" y="557.981">Return AccessToken</text><polygon fill="#76B82A" points="552,588.1797,542,592.1797,552,596.1797,548,592.1797" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="546" x2="739" y1="592.1797" y2="592.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="558" y="587.1138">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="592" y="587.1138">Return AccessToken</text><polygon fill="#76B82A" points="723,617.3125,733,621.3125,723,625.3125,727,621.3125" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="541" x2="729" y1="621.3125" y2="621.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="548" y="616.2466">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="582" y="616.2466">Request UserInfo</text><polygon fill="#76B82A" points="984,646.4453,994,650.4453,984,654.4453,988,650.4453" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="745" x2="990" y1="650.4453" y2="650.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="752" y="645.3794">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="786" y="645.3794">Request UserInfo</text><polygon fill="#76B82A" points="756,675.5781,746,679.5781,756,683.5781,752,679.5781" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="750" x2="1000" y1="679.5781" y2="679.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="762" y="674.5122">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="796" y="674.5122">Return UserInfo</text><polygon fill="#76B82A" points="552,704.7109,542,708.7109,552,712.7109,548,708.7109" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="546" x2="739" y1="708.7109" y2="708.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="558" y="703.645">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="592" y="703.645">Return UserInfo</text><polygon fill="#76B82A" points="84,740.8438,74,744.8438,84,748.8438,80,744.8438" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78" x2="535" y1="744.8438" y2="744.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90" y="739.7778">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="125" y="739.7778">Report Successful Identification</text><!--MD5=[775996c1302bec59dd514ef673de37a8]
@startuml
skinparam sequence {
	ArrowColor #76b82a
	ActorBorderColor #76b82a
    ActorBackgroundColor #FFF
	ActorFontColor #000
    ActorFontName Arial
	ActorFontSize 17

	LifeLineBorderColor #76b82a
	LifeLineBackgroundColor #76b82a
	
	ParticipantBorderColor #76b82a
	ParticipantBackgroundColor #76b82a
	ParticipantFontName Arial
	ParticipantFontSize 17
	ParticipantFontColor #FFF

}

autonumber "<b>[00]"
actor "netID User" as eu
participant  "Website (RP)" as ws
participant  "Identity Broker (IOP/IRP)" as ib
participant  "netID Account Provider (OP)" as op
group Browser
    eu -> ws : Start a use case that requires SSO Login 
    activate ws
    ws -> eu : Show "netID Login Button" to invoke AuthReq with parameters
    deactivate ws
    eu -> ib : Trigger AuthReq
    activate ib
    ib -> eu : Redirect to OP with new AuthReq
    deactivate ib
    eu -> op : Login with Credentials
    activate op
    op -> eu : Show requested claims and ask for consent
    deactivate op
    eu -> op : Consent to data transfer
    activate op
    op -> eu : Issue AuthN Response and redirect to IRP
    deactivate op
    eu -> ib : Transfer AuthN Response via redirect URL
    activate ib
    ib -> eu : Store AuthN Response encrypted in new AuthN Response for RP\nand redirect browser to RP
    deactivate ib
    activate eu
    eu -> ws : Transfer AuthN Response via redirect URL
    activate ws

    group Server-2-Server

        ws -> ib : Request AccessToken
        activate ib
        ib -> op : Request AccessToken
        activate op
        op -> ib : Return AccessToken
        deactivate op
        ib -> ws : Return AccessToken
        deactivate ib

        ws -> ib : Request UserInfo
        activate ib
        ib -> op : Request UserInfo
        activate op
        op -> ib : Return UserInfo
        deactivate op
        ib -> ws : Return UserInfo
        deactivate ib
    end

    ws -> eu : Report Successful Identification
    deactivate ws
    deactivate eu
end
@enduml

PlantUML version 1.2020.09beta17(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 14.0.1+7
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>