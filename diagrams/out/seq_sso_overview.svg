<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="860px" preserveAspectRatio="none" style="width:1185px;height:860px;" version="1.1" viewBox="0 0 1185 860" width="1185px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v8lyyl153yew" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="322.4609" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="68.5" y="422.3828"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="538.5" y="145.0547"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="293.3281" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="538.5" y="451.5156"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="203.3203"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="44.2656" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="378.1172"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="504.7813"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="621.3125"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="261.5859"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="319.8516"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="533.9141"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="650.4453"/><rect fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" height="646.0547" style="stroke: #000000; stroke-width: 2.0;" width="1161" x="13" y="106.7891"/><rect fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="697.5" x="466.5" y="466.5156"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="73" x2="73" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="543.5" x2="543.5" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="751" x2="751" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1018" x2="1018" y1="89.7891" y2="769.8438"/><text fill="#000000" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="95" x="23" y="85.7798">netID User</text><ellipse cx="73.5" cy="13" fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" rx="8" ry="8" style="stroke: #76B82A; stroke-width: 2.0;"/><path d="M73.5,21 L73.5,48 M60.5,29 L86.5,29 M73.5,48 L60.5,63 M73.5,48 L86.5,63 " fill="none" filter="url(#f1v8lyyl153yew)" style="stroke: #76B82A; stroke-width: 2.0;"/><text fill="#000000" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="95" x="23" y="784.6235">netID User</text><ellipse cx="73.5" cy="798.6328" fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" rx="8" ry="8" style="stroke: #76B82A; stroke-width: 2.0;"/><path d="M73.5,806.6328 L73.5,833.6328 M60.5,814.6328 L86.5,814.6328 M73.5,833.6328 L60.5,848.6328 M73.5,833.6328 L86.5,848.6328 " fill="none" filter="url(#f1v8lyyl153yew)" style="stroke: #76B82A; stroke-width: 2.0;"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="130" x="476.5" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="116" x="483.5" y="73.7798">Website (RP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="130" x="476.5" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="116" x="483.5" y="791.6235">Website (RP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="237" x="631" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="223" x="638" y="73.7798">Identity Broker (IOP/IRP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="237" x="631" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="223" x="638" y="791.6235">Identity Broker (IOP/IRP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="268" x="882" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="254" x="889" y="73.7798">netID Account Provider (OP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="268" x="882" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="254" x="889" y="791.6235">netID Account Provider (OP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="322.4609" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="68.5" y="422.3828"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="538.5" y="145.0547"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="293.3281" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="538.5" y="451.5156"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="203.3203"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="44.2656" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="378.1172"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="504.7813"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="746.5" y="621.3125"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="261.5859"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="319.8516"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="533.9141"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="1013" y="650.4453"/><path d="M13,106.7891 L121,106.7891 L121,113.7891 L111,123.7891 L13,123.7891 L13,106.7891 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="646.0547" style="stroke: #000000; stroke-width: 2.0;" width="1161" x="13" y="106.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="28" y="119.856">Browser</text><polygon fill="#76B82A" points="526.5,141.0547,536.5,145.0547,526.5,149.0547,530.5,145.0547" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73.5" x2="532.5" y1="145.0547" y2="145.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80.5" y="139.9888">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="115.5" y="139.9888">Start a use case that requires SSO Login</text><polygon fill="#76B82A" points="84.5,170.1875,74.5,174.1875,84.5,178.1875,80.5,174.1875" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78.5" x2="542.5" y1="174.1875" y2="174.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90.5" y="169.1216">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="406" x="125.5" y="169.1216">Show "netID Login Button" to invoke AuthReq with parameters</text><polygon fill="#76B82A" points="734.5,199.3203,744.5,203.3203,734.5,207.3203,738.5,203.3203" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73.5" x2="740.5" y1="203.3203" y2="203.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="80.5" y="198.2544">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="114.5" y="198.2544">Trigger AuthReq</text><polygon fill="#76B82A" points="84.5,228.4531,74.5,232.4531,84.5,236.4531,80.5,232.4531" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78.5" x2="750.5" y1="232.4531" y2="232.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90.5" y="227.3872">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="125.5" y="227.3872">Redirect to OP with new AuthReq</text><polygon fill="#76B82A" points="1001,257.5859,1011,261.5859,1001,265.5859,1005,261.5859" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73.5" x2="1007" y1="261.5859" y2="261.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80.5" y="256.52">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="115.5" y="256.52">Login with Credentials</text><polygon fill="#76B82A" points="84.5,286.7188,74.5,290.7188,84.5,294.7188,80.5,290.7188" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78.5" x2="1017" y1="290.7188" y2="290.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90.5" y="285.6528">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="125.5" y="285.6528">Show requested claims and ask for consent</text><polygon fill="#76B82A" points="1001,315.8516,1011,319.8516,1001,323.8516,1005,319.8516" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73.5" x2="1007" y1="319.8516" y2="319.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80.5" y="314.7856">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="115.5" y="314.7856">Consent to data transfer</text><polygon fill="#76B82A" points="84.5,344.9844,74.5,348.9844,84.5,352.9844,80.5,348.9844" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78.5" x2="1017" y1="348.9844" y2="348.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90.5" y="343.9185">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="125.5" y="343.9185">Issue AuthN Response and redirect to IRP</text><polygon fill="#76B82A" points="734.5,374.1172,744.5,378.1172,734.5,382.1172,738.5,378.1172" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="73.5" x2="740.5" y1="378.1172" y2="378.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="80.5" y="373.0513">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="115.5" y="373.0513">Transfer AuthN Response via redirect URL</text><polygon fill="#76B82A" points="89.5,418.3828,79.5,422.3828,89.5,426.3828,85.5,422.3828" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="83.5" x2="750.5" y1="422.3828" y2="422.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="95.5" y="409.7505">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="420" x="130.5" y="402.1841">Store AuthN Response encrypted in new AuthN Response for RP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="130.5" y="417.3169">and redirect browser to RP</text><polygon fill="#76B82A" points="526.5,447.5156,536.5,451.5156,526.5,455.5156,530.5,451.5156" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78.5" x2="532.5" y1="451.5156" y2="451.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="85.5" y="446.4497">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="119.5" y="446.4497">Transfer AuthN Response via redirect URL</text><path d="M466.5,466.5156 L630.5,466.5156 L630.5,473.5156 L620.5,483.5156 L466.5,483.5156 L466.5,466.5156 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="697.5" x="466.5" y="466.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="481.5" y="479.5825">Server-2-Server</text><polygon fill="#76B82A" points="734.5,500.7813,744.5,504.7813,734.5,508.7813,738.5,504.7813" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="548.5" x2="740.5" y1="504.7813" y2="504.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="555.5" y="499.7153">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="589.5" y="499.7153">Request AccessToken</text><polygon fill="#76B82A" points="1001,529.9141,1011,533.9141,1001,537.9141,1005,533.9141" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="756.5" x2="1007" y1="533.9141" y2="533.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="763.5" y="528.8481">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="796.5" y="528.8481">Request AccessToken</text><polygon fill="#76B82A" points="767.5,559.0469,757.5,563.0469,767.5,567.0469,763.5,563.0469" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="761.5" x2="1017" y1="563.0469" y2="563.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="773.5" y="557.981">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="807.5" y="557.981">Return AccessToken</text><polygon fill="#76B82A" points="559.5,588.1797,549.5,592.1797,559.5,596.1797,555.5,592.1797" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="553.5" x2="750.5" y1="592.1797" y2="592.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="565.5" y="587.1138">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="599.5" y="587.1138">Return AccessToken</text><polygon fill="#76B82A" points="734.5,617.3125,744.5,621.3125,734.5,625.3125,738.5,621.3125" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="548.5" x2="740.5" y1="621.3125" y2="621.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="555.5" y="616.2466">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="589.5" y="616.2466">Request UserInfo</text><polygon fill="#76B82A" points="1001,646.4453,1011,650.4453,1001,654.4453,1005,650.4453" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="756.5" x2="1007" y1="650.4453" y2="650.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="763.5" y="645.3794">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="797.5" y="645.3794">Request UserInfo</text><polygon fill="#76B82A" points="767.5,675.5781,757.5,679.5781,767.5,683.5781,763.5,679.5781" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="761.5" x2="1017" y1="679.5781" y2="679.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="773.5" y="674.5122">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="807.5" y="674.5122">Return UserInfo</text><polygon fill="#76B82A" points="559.5,704.7109,549.5,708.7109,559.5,712.7109,555.5,708.7109" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="553.5" x2="750.5" y1="708.7109" y2="708.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="565.5" y="703.645">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="599.5" y="703.645">Return UserInfo</text><polygon fill="#76B82A" points="84.5,740.8438,74.5,744.8438,84.5,748.8438,80.5,744.8438" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="78.5" x2="542.5" y1="744.8438" y2="744.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="90.5" y="739.7778">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="125.5" y="739.7778">Report Successful Identification</text><!--MD5=[4ff94d894cd2fbabbcc689bb6e37bce2]
@startuml
skinparam sequence {
	ArrowColor #76b82a
	ActorBorderColor #76b82a
    ActorBackgroundColor #FFF
	ActorFontColor #000
    ActorFontName Arial
	ActorFontSize 17

	LifeLineBorderColor #76b82a
	LifeLineBackgroundColor #76b82a
	
	ParticipantBorderColor #76b82a
	ParticipantBackgroundColor #76b82a
	ParticipantFontName Arial
	ParticipantFontSize 17
	ParticipantFontColor #FFF

}

autonumber "<b>[00]"
actor "netID User" as eu
participant  "Website (RP)" as ws
participant  "Identity Broker (IOP/IRP)" as ib
participant  "netID Account Provider (OP)" as op
group Browser
    eu -> ws : Start a use case that requires SSO Login 
    activate ws
    ws -> eu : Show "netID Login Button" to invoke AuthReq with parameters
    deactivate ws
    eu -> ib : Trigger AuthReq
    activate ib
    ib -> eu : Redirect to OP with new AuthReq
    deactivate ib
    eu -> op : Login with Credentials
    activate op
    op -> eu : Show requested claims and ask for consent
    deactivate op
    eu -> op : Consent to data transfer
    activate op
    op -> eu : Issue AuthN Response and redirect to IRP
    deactivate op
    eu -> ib : Transfer AuthN Response via redirect URL
    activate ib
    ib -> eu : Store AuthN Response encrypted in new AuthN Response for RP\nand redirect browser to RP
    deactivate ib
    activate eu
    eu -> ws : Transfer AuthN Response via redirect URL
    activate ws

    group Server-2-Server

        ws -> ib : Request AccessToken
        activate ib
        ib -> op : Request AccessToken
        activate op
        op -> ib : Return AccessToken
        deactivate op
        ib -> ws : Return AccessToken
        deactivate ib

        ws -> ib : Request UserInfo
        activate ib
        ib -> op : Request UserInfo
        activate op
        op -> ib : Return UserInfo
        deactivate op
        ib -> ws : Return UserInfo
        deactivate ib
    end

    ws -> eu : Report Successful Identification
    deactivate ws
    deactivate eu
end
@enduml

PlantUML version 1.2020.08beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 14.0.1+7
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>